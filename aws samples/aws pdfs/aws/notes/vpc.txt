{
"Resources":
{
   "VPC":
   {
    "Type":"AWS::EC2::VPC",
	"Properties":
	{
	  "CidrBlock":"192.168.0.0/24"
	}
   },
   "SN1":
   {
   "Type" :"AWS::EC2::Subnet",
   "Properties":
   {
   "CidrBlock": "192.168.0.0/25",
   "VpcId": {"Ref":"VPC"}
   }
   },
   "SN2":
   {
   "Type" :"AWS::EC2::Subnet",
   "Properties":
   {
   "CidrBlock": "192.168.0.128/25",
   "VpcId": {"Ref":"VPC"}
   }
   },
   "IGW":
   {
    "Type":"AWS::EC2::InternetGateway"
   },
   "VPCIGW":
   {
   "Type" :"AWS::EC2::VPCGatewayAttachment",
   "Properties":
   {
   "InternetGatewayId":{"Ref":"IGW"},
   "VpcId": {"Ref":"VPC"}
   }
   },
   "SN1RT":
   {
      "Type": "AWS::EC2::RouteTable",
	  "Properties":
	  {
	   "VpcId": {"Ref":"VPC"}
	  }
   },
   "AddRouteRT1":
   {
     "Type":"AWS::EC2::Route",
	 "Properties":
	 {
	  "RouteTableId": {"Ref": "SN1RT"},
	  "DestinationCidrBlock":"0.0.0.0/0",
	  "GatewayId" : {"Ref":"IGW"}
	 }
   },
   "Sn1RT1":
   {
     "Type":"AWS::EC2::SubnetRouteTableAssociation",
	 "Properties":
	 {
	   "SubnetId":{"Ref":"SN1"},
	   "RouteTableId":{"Ref":"SN1RT"}
	 }
   },
   "Ec2":
   {
     "Type":"AWS::EC2::Instance",
	 "Properties":
	 {
	  "ImageId":"ami-0ac019f4fcb7cb7e6",
	  "InstanceType":"t2.micro",
	  "KeyName":"oct30",
	  "SubnetId": {"Ref":"SN1"}
	 }
   },
   "Vol":
   {
   "Type":"AWS::EC2::Volume",
   "Properties":
   {
    "Size":"10",
	"VolumeType": "gp2",
	"AvailabilityZone": {"Fn::GetAtt" : ["Ec2","AvailabilityZone"]}
   }
   }
},
"Outputs":
{
  "ec2id":
  {
     "Value": {"Ref":"Ec2"}
  },
   "ec2privateip":
  {
     "Value": {"Fn::GetAtt" : ["Ec2","PrivateIp"]}
  }
  
}

}